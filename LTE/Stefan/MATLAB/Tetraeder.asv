
clear all,

x(2,:) = [5.0000000000000000e-001  5.7750000000000001e-001  4.0799999999999997e-001]; 
x(3,:) = [7.5000000000000000e-001  1.4449999999999999e-001  4.0799999999999997e-001];
x(4,:) = [7.5000000000000000e-001  4.3300000000000000e-001  0.0000000000000000e+000]; 
x(5,:) = [2.5000000000000000e-001  1.4449999999999999e-001  4.0799999999999997e-001];
x(6,:) = [2.5000000000000000e-001  4.3300000000000000e-001  0.0000000000000000e+000];
x(7,:) = [5.0000000000000000e-001  0.0000000000000000e+000  0.0000000000000000e+000]; 

for i = 2:7
  for k = 2:7
    dist(i,k) = norm(x(i,:) - x(k,:));
  end
end
dist

y(1,:) = [5.0000000000000000e-001  5.7750000000000001e-001  4.0799999999999997e-001]; 
y(2,:) = [7.5000000000000000e-001  1.4449999999999999e-001  4.0799999999999997e-001];
y(3,:) = [7.5000000000000000e-001  4.3300000000000000e-001  0.0000000000000000e+000]; 
y(4,:) = [5.0000000000000000e-001  0.0000000000000000e+000  0.0000000000000000e+000]; 

basis = [y(3,:)-y(4,:) y(2,:)-y(4,:)];

a = y(4,:).';
b = y(3,:).';
c = y(1,:).';
d = y(2,:).';

x1 = b-a;
x2 = c-a;

n = cross(x1,x2) / norm(cross(x1,x2));

alpha = n.'*a - n.'*d;
x = d + alpha*n
h = d-x;

n.'*(x-a)
n.'*(x-b)
n.'*(x-c)
